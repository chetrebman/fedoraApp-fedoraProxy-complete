<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_22) on Mon Jul 23 16:29:30 MDT 2012 -->
<TITLE>
MetsBatchFileSplitter
</TITLE>

<META NAME="date" CONTENT="2012-07-23">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MetsBatchFileSplitter";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MetsBatchFileSplitter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.BatchType.html" title="enum in edu.du.penrose.systems.fedoraApp.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MetsBatchFileSplitter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.du.penrose.systems.fedoraApp.util</FONT>
<BR>
Class MetsBatchFileSplitter</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>edu.du.penrose.systems.fedoraApp.util.MetsBatchFileSplitter</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>MetsBatchFileSplitter</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Split a large file containing multiple METS sections into multiple METS files.
 The new files containing a single METS record are saved 
 in the batch ingests METS file folder. The original input file does not have to
 validate since we are simply streaming through the file and mathching <mets>
 </mets> elements. The <mets></mets> elements and everything they contain 
 are written to a single METS XML file. The file name is autogenerated and is
 Guaranteed to be unique. The new METS XML files are also checked or 
 validated, this occurs during the actual ingest.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>chet.rebman</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.BatchType.html" title="enum in edu.du.penrose.systems.fedoraApp.util">MetsBatchFileSplitter.BatchType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.ingestDataType.html" title="enum in edu.du.penrose.systems.fedoraApp.util">MetsBatchFileSplitter.ingestDataType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#getObjID(java.lang.String)">getObjID</A></B>(java.lang.String&nbsp;metsElementLine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the OBJID value, it can be empty ie OBJID=""</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#objID_isValid_DU_discoveryID(java.lang.String)">objID_isValid_DU_discoveryID</A></B>(java.lang.String&nbsp;discoveryID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used by the Ingester for FACTS</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#parseCommandLine(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, java.lang.String)">parseCommandLine</A></B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                 java.lang.String&nbsp;commandLine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parse the command line and save the results in ingestOptions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#parseDmdAllianceElement(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, org.jdom.Element)">parseDmdAllianceElement</A></B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                        org.jdom.Element&nbsp;dmdAllianceElement)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parses a <code>&lt;mets:dmdSec ID="dmdAlliance"&gt;</code> element of type..</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#putPidInMetsLineOBJID(java.lang.String, java.lang.String)">putPidInMetsLineOBJID</A></B>(java.lang.String&nbsp;metsElementLine,
                      java.lang.String&nbsp;reservedPid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replace the OBJID value, within the <mets:mets> line,  with the reservedPid value..</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#setCommandLineOptions(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, java.io.File)">setCommandLineOptions</A></B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                      java.io.File&nbsp;batchCommandFile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parse the batch ingest command line and store the command in the returned BatchIngestOption object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#splitMetsBatchFile_version_1(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, edu.du.penrose.systems.fedoraApp.batchIngest.data.ThreadStatusMsg, java.io.File, java.lang.String, java.lang.String, boolean)">splitMetsBatchFile_version_1</A></B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                             <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/ThreadStatusMsg.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">ThreadStatusMsg</A>&nbsp;threadStatus,
                             java.io.File&nbsp;inFile,
                             java.lang.String&nbsp;metsNewDirectory,
                             java.lang.String&nbsp;metsUpdatesDirectory,
                             boolean&nbsp;nameFileFromOBJID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Split a file with multiple METS sections into separate files each containing
 a single METS record.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#splitMetsBatchFile_version_2(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, edu.du.penrose.systems.fedoraApp.batchIngest.data.ThreadStatusMsg, java.io.File, java.lang.String, java.lang.String, boolean)">splitMetsBatchFile_version_2</A></B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                             <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/ThreadStatusMsg.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">ThreadStatusMsg</A>&nbsp;threadStatus,
                             java.io.File&nbsp;inFile,
                             java.lang.String&nbsp;metsNewDirectory,
                             java.lang.String&nbsp;metsUpdatesDirectory,
                             boolean&nbsp;nameFileFromOBJID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Split the batchIngest command file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html#splitMetsBatchFile(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, edu.du.penrose.systems.fedoraApp.batchIngest.data.ThreadStatusMsg, java.io.File, java.lang.String, java.lang.String, boolean, boolean)">splitMetsBatchFile</A></B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                   <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/ThreadStatusMsg.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">ThreadStatusMsg</A>&nbsp;threadStatus,
                   java.io.File&nbsp;inFile,
                   java.lang.String&nbsp;metsNewDirectory,
                   java.lang.String&nbsp;metsUpdatesDirectory,
                   boolean&nbsp;nameFileFromOBJID,
                   boolean&nbsp;checkValidDiscoveryID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Split a file with multiple METS sections into separate files each containing
 a single METS record.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getObjID(java.lang.String)"><!-- --></A><H3>
getObjID</H3>
<PRE>
public static java.lang.String <B>getObjID</B>(java.lang.String&nbsp;metsElementLine)
                                 throws <A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></PRE>
<DL>
<DD>Get the OBJID value, it can be empty ie OBJID=""
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>metsElementLine</CODE> - 
<DT><B>Returns:</B><DD>the OBJID attribute value
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="putPidInMetsLineOBJID(java.lang.String, java.lang.String)"><!-- --></A><H3>
putPidInMetsLineOBJID</H3>
<PRE>
public static java.lang.String <B>putPidInMetsLineOBJID</B>(java.lang.String&nbsp;metsElementLine,
                                                     java.lang.String&nbsp;reservedPid)
                                              throws <A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></PRE>
<DL>
<DD>Replace the OBJID value, within the <mets:mets> line,  with the reservedPid value..
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>metsElementLine</CODE> - <DD><CODE>reservedPid</CODE> - 
<DT><B>Returns:</B><DD>the modified <mets:mets> line
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="splitMetsBatchFile(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, edu.du.penrose.systems.fedoraApp.batchIngest.data.ThreadStatusMsg, java.io.File, java.lang.String, java.lang.String, boolean, boolean)"><!-- --></A><H3>
splitMetsBatchFile</H3>
<PRE>
public static void <B>splitMetsBatchFile</B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                                      <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/ThreadStatusMsg.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">ThreadStatusMsg</A>&nbsp;threadStatus,
                                      java.io.File&nbsp;inFile,
                                      java.lang.String&nbsp;metsNewDirectory,
                                      java.lang.String&nbsp;metsUpdatesDirectory,
                                      boolean&nbsp;nameFileFromOBJID,
                                      boolean&nbsp;checkValidDiscoveryID)
                               throws <A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></PRE>
<DL>
<DD>Split a file with multiple METS sections into separate files each containing
 a single METS record. The input file must contain one or more multiple
 <mets></mets> elements (sections). if true a OBJID must exist in every <mets> 
 element, this will become the file name. Otherwise a unique file name is 
 generated. Return true if the <batch update="true"> is set in the batch file other
 wise return false (defaults to new file being ingested ).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>threadStatus</CODE> - this object receives status updates while splitting the file.<DD><CODE>inFile</CODE> - file to split<DD><CODE>metsNewDirectory</CODE> - directory containing METS for new objects.<DD><CODE>metsUpdatesDirectory</CODE> - directory containing METS for existing objects.<DD><CODE>nameFileFromOBJID</CODE> - if true a OBJID must exist in every <mets> element, this will become the file name. Otherwise a unique file name is 
 generated<DD><CODE>checkValidDiscoveryID</CODE> - if true check that the OBJID contains a valid discovery ID
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - on any IO error.
<DD><CODE><A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/bus/BatchThreadManager.html#setBatchSetStatus(java.lang.String, java.lang.String)"><CODE>BatchThreadManager.setBatchSetStatus(String, String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setCommandLineOptions(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, java.io.File)"><!-- --></A><H3>
setCommandLineOptions</H3>
<PRE>
public static <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A> <B>setCommandLineOptions</B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                                                       java.io.File&nbsp;batchCommandFile)
                                                throws <A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></PRE>
<DL>
<DD>Parse the batch ingest command line and store the command in the returned BatchIngestOption object.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ingestOptions</CODE> - <DD><CODE>batchCommandFile</CODE> - 
<DT><B>Returns:</B><DD>the passed in ingestOptions
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="splitMetsBatchFile_version_1(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, edu.du.penrose.systems.fedoraApp.batchIngest.data.ThreadStatusMsg, java.io.File, java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
splitMetsBatchFile_version_1</H3>
<PRE>
public static void <B>splitMetsBatchFile_version_1</B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                                                <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/ThreadStatusMsg.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">ThreadStatusMsg</A>&nbsp;threadStatus,
                                                java.io.File&nbsp;inFile,
                                                java.lang.String&nbsp;metsNewDirectory,
                                                java.lang.String&nbsp;metsUpdatesDirectory,
                                                boolean&nbsp;nameFileFromOBJID)
                                         throws <A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></PRE>
<DL>
<DD>Split a file with multiple METS sections into separate files each containing
 a single METS record. The input file must contain one or more multiple
 <mets></mets> elements (sections). if true a OBJID must exist in every <mets> 
 element, this will become the file name. Otherwise a unique file name is 
 generated. Return true if the <batch update="true"> is set in the batch file other
 wise return false (defaults to new file being ingested ).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>threadStatus</CODE> - this object receives status updates while splitting the file.<DD><CODE>inFile</CODE> - file to split<DD><CODE>metsNewDirectory</CODE> - directory containing METS for new objects.<DD><CODE>metsUpdatesDirectory</CODE> - directory containing METS for existing objects.<DD><CODE>nameFileFromOBJID</CODE> - if true a OBJID must exist in every <mets> element, this will become the file name. Otherwise a unique file name is 
 generated
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - on any IO error.
<DD><CODE><A HREF="../../../../../../edu/du/penrose/systems/exceptions/FatalException.html" title="class in edu.du.penrose.systems.exceptions">FatalException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/bus/BatchThreadManager.html#setBatchSetStatus(java.lang.String, java.lang.String)"><CODE>BatchThreadManager.setBatchSetStatus(String, String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="splitMetsBatchFile_version_2(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, edu.du.penrose.systems.fedoraApp.batchIngest.data.ThreadStatusMsg, java.io.File, java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
splitMetsBatchFile_version_2</H3>
<PRE>
public static java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>splitMetsBatchFile_version_2</B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                                                                                            <A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/ThreadStatusMsg.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">ThreadStatusMsg</A>&nbsp;threadStatus,
                                                                                            java.io.File&nbsp;inFile,
                                                                                            java.lang.String&nbsp;metsNewDirectory,
                                                                                            java.lang.String&nbsp;metsUpdatesDirectory,
                                                                                            boolean&nbsp;nameFileFromOBJID)
                                                                                     throws java.lang.Exception</PRE>
<DL>
<DD>Split the batchIngest command file. If the batch contains addditions put the results into the 'mets/new' directory. If updates put the
 files into the 'mets/upates' directory. The ingest command (only one per batchfile) is saved in a comment prior to the <mets:mets>
 element for each split file. This means the batch can only contain files of one type ie adds or updates.
 <br><br>
 If an error occurs we will try to remove any generated output file and then throw an exception.
 <br>
 NOTE Since this method may need to get fedora pids The following libraries are needed...
 wsdl4j-1.5.1.jar
 commons-discovery.jar
 fcrepo-server-3.4-utilities-main.jar
 jaxrpc.jar
 logback-core-0.9.18.jar
 logback-classic-0.9.18.jar
 trippi-1.1.2-core.jar
 fcrepo-common-3.4.jar
 fcrepo-client-admin-3.4.jar
 jdom.jar
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ingestOptions</CODE> - <DD><CODE>threadStatus</CODE> - can be null.<DD><CODE>inFile</CODE> - batch file to split<DD><CODE>metsNewDirectory</CODE> - <DD><CODE>metsUpdatesDirectory</CODE> - <DD><CODE>nameFileFromOBJID</CODE> - create xml file's that are named the same as it's OBJID element. This seems like a good idea but if the file
 already exists you will get a error, killing the entire ingest.
<DT><B>Returns:</B><DD>map of OBJID and PIDs ,if the batch file is an add of type 'replyWithPid' otherwise returns null, if the OBJID="" both the
 key and the value will be the pid.
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="parseDmdAllianceElement(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, org.jdom.Element)"><!-- --></A><H3>
parseDmdAllianceElement</H3>
<PRE>
public static void <B>parseDmdAllianceElement</B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                                           org.jdom.Element&nbsp;dmdAllianceElement)
                                    throws java.lang.Exception</PRE>
<DL>
<DD>Parses a <code>&lt;mets:dmdSec ID="dmdAlliance"&gt;</code> element of type..
 <pre>
 <code>&lt;mets:dmdSec ID="dmdAlliance"&gt; 
    &lt;mets:mdWrap MIMETYPE="text/xml" MDTYPE="OTHER" LABEL="Custom Alliance Metadata"&gt;
       &lt;mets:xmlData&gt;
           &lt;islandora collection="codu:38046" contentModel="codu:coduBasicObject" /&gt;
       &lt;/mets:xmlData&gt;
    &lt;/mets:mdWrap&gt;
 &lt;/mets:dmdSec&gt; </code>
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ingestOptions</CODE> - <DD><CODE>dmdAllianceElement</CODE> - a <code>&lt;mets:dmdSec ID="dmdAlliance"&gt; element containing an islandora element. </code>
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - if IslandoraElement is missing or it's collection or contentModel is missing</DL>
</DD>
</DL>
<HR>

<A NAME="parseCommandLine(edu.du.penrose.systems.fedoraApp.batchIngest.data.BatchIngestOptions, java.lang.String)"><!-- --></A><H3>
parseCommandLine</H3>
<PRE>
public static boolean <B>parseCommandLine</B>(<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/data/BatchIngestOptions.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.data">BatchIngestOptions</A>&nbsp;ingestOptions,
                                       java.lang.String&nbsp;commandLine)</PRE>
<DL>
<DD>parse the command line and save the results in ingestOptions.
 The valid command are add and update. The add command has no command type/modifier. The
 update command has the modifiers 'all', 'meta', 'pco'
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ingestOptions</CODE> - save results here<DD><CODE>commandLine</CODE> - 
<DT><B>Returns:</B><DD>true on valid command and command type</DL>
</DD>
</DL>
<HR>

<A NAME="objID_isValid_DU_discoveryID(java.lang.String)"><!-- --></A><H3>
objID_isValid_DU_discoveryID</H3>
<PRE>
public static boolean <B>objID_isValid_DU_discoveryID</B>(java.lang.String&nbsp;discoveryID)</PRE>
<DL>
<DD>This is used by the Ingester for FACTS
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>discoveryID</CODE> - 
<DT><B>Returns:</B><DD>true if the string probably contains a vailid discovery id.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MetsBatchFileSplitter.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../../edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.BatchType.html" title="enum in edu.du.penrose.systems.fedoraApp.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?edu/du/penrose/systems/fedoraApp/util/MetsBatchFileSplitter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MetsBatchFileSplitter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
