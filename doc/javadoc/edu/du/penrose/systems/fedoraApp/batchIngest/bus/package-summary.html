<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_05) on Tue Oct 21 08:27:28 MDT 2008 -->
<TITLE>
edu.du.penrose.systems.fedoraApp.batchIngest.bus
</TITLE>

<META NAME="date" CONTENT="2008-10-21">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="edu.du.penrose.systems.fedoraApp.batchIngest.bus";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/bus/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?edu/du/penrose/systems/fedoraApp/batchIngest/bus/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package edu.du.penrose.systems.fedoraApp.batchIngest.bus
</H2>
Contains the business logic and thread handling classes for the <em><b>Fedora Batch 
  Ingest</b></em> process.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/bus/BatchIngestThreadHolder.html" title="class in edu.du.penrose.systems.fedoraApp.batchIngest.bus">BatchIngestThreadHolder</A></B></TD>
<TD>Contains a single thread running a specific batch set along with information 
 about the thread and the thread's current status.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package edu.du.penrose.systems.fedoraApp.batchIngest.bus Description
</H2>

<P>
Contains the business logic and thread handling classes for the <em><b>Fedora Batch 
  Ingest</b></em> process.
  <br>
  <br>
  The Batch Ingest process uploads data files and the meta data that describes
  them into a Fedora Repository.<br><br>
  The config file with BATCH_INGEST locations is  is ../WEB-INF/config/fedoraApp.properties
  In addition there are properties files within each institution directory 
  (see below) that contain the user options selected during the previous batch ingest.
  <br><br>
  The METS files to be ingested contain the meta data that describes their 
  content files. These files are called PCOs for Primary Content Objects. A 
  single METS file and ALL of it's PCOs become a single Fedora DO (digital 
  object) which is assigned a single unique identifier  called a PID. A world wide
  digital handle is also assigned by handle.net This handle is requested from the 
  Alliance Digital Repository (ADR) for each PID. This is accomplished by passing 
  the PID to a web service hosted at the ADR http://adr.coalliance.org/ and the 
  ADR obtains the handle from handle.net.
  <br>
  <br>
  <strong>Prior</strong> to the start of a batch ingest, user options are preformed. This could
  include any of the following, deleting all previous completed files (in the completed folder),
  deleting all failed files (in the failed folder) and deleting following reports
  (in the logs folder).
  <br>
  <br>
  <b>While</b> the batch ingest is running any METS file that completes without error  
  is moved into the completed folder. Any mets file the fails is moved into the
  failed folder. If the user has selected to move PCOs (primary content
  objects) they will moved into the completed folder when a METS ingest is 
  successful. If the ingest fails PCOs are never moved into the failed 
  folder.
  <br><br>
  <b>After</b> completion of the batch run, two reports are generated, the main report which
  shows the number of completed and failed files along with a list of all errors.
  The second report is a PID report, this report maps the PID and the contents 
  of the OBJID in the supplied METS file.
  <br>
  <br>
   The batch 
  Ingest allows multiple METS objects and their PCOs (Primary Context Objects) to 
  be ingested with a single background thread. The Batch Ingest is tied to the 
  concept of a <em><b>'batch set'</b></em>. A batch set is a project for a particular institution.
  An example of an institution is the 'University of Denver' and a project would be a group
  of METs files and their PCOs that are to be ingested. The institution
  and project (batch set) are mapped to a directory structure. For example if the top folder,
  that contains all institutions and their batch sets, is named 
  'batch_space' (set in the main config file) and the institution name/string 
  for Colorado's University of 
  Denver is  'codu' and the project is called 'frid' then the <em><b>batch set</b></em> would
  be under the path <b><em>/batch_space/codu/frid/</em></b> 
  <br><br>
  <b>A <em>batch set</em> contains the following
  directory stucture </b>(folder names are defined in the main config file)... <br><br>
        <b>mets</b> - contains the METs XML records that are to be ingested. <br>
        <b>files</b> - contains the PCOs referred to in the METs files. <br>
        <b>completed</b> - METs files are moved to this directory after successful ingest. <br>
        <b>failed</b>  - METs file are moved to this directory if they fail to ingest. <br>
        <b>logs</b> - contains reports about each run of the batch ingest. <br>
        <b>work</b> - used by ingest for temp file storage. Also XML files that are going
  to be split, into separate METS files, prior to ingest are stored here.
  <br><br>
<b><em>batch set</em> </b> directory structure <b>example<b>...</b></b>

  <table>
        <tr>
                <td colspan="4">        
                        <b>batch_space</b> (location and name set in WEB-INF/config/fedorapp.properties)
                </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td colspan="3">
                        <b>codu</b>  (institution - determined at runtime from directory names) 
                </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td colspan="2">
                        <b>frid</b> (batch set - determined at runtime from directory names) 
                </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><b>mets</b>  </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><b>files</b> </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><b>completed</b> </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><b>failed</b>  </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><b>logs</b> </td>
        </tr>
        <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><b>work</b> (in config file)</td>
        </tr>
  </table>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../edu/du/penrose/systems/fedoraApp/batchIngest/bus/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?edu/du/penrose/systems/fedoraApp/batchIngest/bus/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
